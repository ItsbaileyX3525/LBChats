<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>LBChats</title>
  <link rel="stylesheet" href="/assets/css/index.css">
</head>
<body>
  <div id="app-container">
    <div id="sidebar">
      <div id="sidebar-header">
        <h1 id="title">LB</h1>
      </div>
      
      <div id="chatcontainer">
        <h2 id="public" class="chatitle">Public chatroom</h2>
      </div>
      
      <div id="sidebar-footer">
        <div id="sidebar-btns">
          <button id="createChannelBtn" class="icon-btn" title="Create Channel">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
          <button id="joinChannelBtn" class="icon-btn" title="Join Channel">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 10l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button id="volumeBtn" class="icon-btn" title="Volume">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 9v6h4l5 4V5L9 9H5z" fill="currentColor"/>
              <path d="M16.5 8.5a4.5 4.5 0 010 7" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/>
            </svg>
          </button>
          <div id="volumeSliderContainer" style="display:none;">
            <input type="range" id="volume-slider" min="0" max="100" value="50">
          </div>
          <button id="themeToggle" class="icon-btn" title="Toggle theme">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 12.8A9 9 0 1111.2 3 7 7 0 0021 12.8z" fill="currentColor"/>
            </svg>
          </button>
        </div>
        
        <div id="profile">
          <img src="/assets/images/profile.png" alt="Profile Picture" id="profilepic">
          <div id="profileinfo">
            <div id="profilename">Loading...</div>
          </div>
        </div>
        <div id="logout-btn">Logout</div>
      </div>
    </div>

    <div id="main-content">
      <div id="chatarea">
        <button id="loadmore" style="display:none;">Load More Messages</button>
        <div id="messages"></div>
      </div>
      
      <div id="chatbarcontainer">
        <div id="commandsuggestions" style="display:none;"></div>
        <form id="chatbarform">
          <input name="message" id="chatinput" type="text" placeholder="Type a message..." autocomplete="off">
          <button id="uploadbtn" type="button" aria-label="Upload File">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button id="sendbtn" type="submit" aria-label="Send">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="currentColor"/>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>

  <div id="createChannelModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Create Channel</h3>
      <input type="text" id="channelNameInput" placeholder="Channel name" maxlength="50">
      <div class="modal-buttons">
        <button id="confirmCreateChannel">Create</button>
        <button id="cancelCreateChannel">Cancel</button>
      </div>
    </div>
  </div>

  <div id="joinChannelModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Join Channel</h3>
      <input type="text" id="inviteCodeInput" placeholder="Invite code" maxlength="20">
      <div class="modal-buttons">
        <button id="confirmJoinChannel">Join</button>
        <button id="cancelJoinChannel">Cancel</button>
      </div>
    </div>
  </div>

  <div id="channelActionsModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3 id="channelActionsTitle">Channel Options</h3>
      <div class="modal-buttons">
        <button id="generateInviteBtn">Generate Invite</button>
        <button id="closeChannelActions">Close</button>
      </div>
      <div id="inviteCodeDisplay" style="display:none; margin-top:10px;">
        <p>Invite Code: <strong id="generatedInviteCode"></strong></p>
      </div>
    </div>
  </div>

  <script src="/assets/js/index.js" type="module"></script>
  <script src="/assets/js/message.js" type="module"></script>
</body>
</html>